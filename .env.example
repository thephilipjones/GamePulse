# Domain
# This would be set to the production domain with an env var on deployment
# used by Traefik to transmit traffic and aqcuire TLS certificates
DOMAIN=localhost
# To test the local Traefik config
# DOMAIN=localhost.tiangolo.com

# Used by the backend to generate links in emails to the frontend
FRONTEND_HOST=http://localhost:5173
# In staging and production, set this env var to the frontend host, e.g.
# FRONTEND_HOST=https://dashboard.example.com

# Environment: local, staging, production
ENVIRONMENT=local

# REQUIRED: Project identification
PROJECT_NAME=gamepulse
STACK_NAME=gamepulse

# Backend
# REQUIRED: CORS origins for frontend (must include frontend URL)
BACKEND_CORS_ORIGINS="http://localhost,http://localhost:5173,https://localhost,https://localhost:5173,http://localhost.tiangolo.com"
# REQUIRED: Secret key for JWT tokens (auto-generated, change in production)
SECRET_KEY=changethis-generate-new-secret-key
# REQUIRED: Initial superuser credentials for admin access
FIRST_SUPERUSER=admin@example.com
FIRST_SUPERUSER_PASSWORD=changethis-secure-password

# Emails (OPTIONAL: Only needed for email notifications)
SMTP_HOST=
SMTP_USER=
SMTP_PASSWORD=
EMAILS_FROM_EMAIL=info@example.com
SMTP_TLS=True
SMTP_SSL=False
SMTP_PORT=587

# Postgres (REQUIRED: Database connection for PostgreSQL 16)
POSTGRES_SERVER=localhost
POSTGRES_PORT=5432
POSTGRES_DB=app
POSTGRES_USER=postgres
POSTGRES_PASSWORD=changethis-secure-db-password

# Dagster Database (OPTIONAL: Defaults to 'dagster' if not set)
# Separate database for Dagster metadata to avoid Alembic version conflicts
# If not specified, defaults to 'dagster' database
DAGSTER_POSTGRES_DB=dagster

# dim_date Auto-Seed Configuration (OPTIONAL: Dimensional data seeding)
# Controls automatic seeding/extension of dim_date dimension table during prestart.sh
# Default: true (auto-seed enabled)
DIM_DATE_AUTO_SEED=true
# Optional: Override default date range (defaults to current_year - 1 to current_year + 2)
# Useful for testing or pre-loading historical/future dates
# DIM_DATE_START_YEAR=2024  # Override start year (default: current_year - 1)
# DIM_DATE_END_YEAR=2028     # Override end year (default: current_year + 2)

# Epic 4: Reddit Data Pipeline (OPTIONAL: Social media data ingestion)
# WARNING: Reddit scraping violates their ToS - for portfolio/educational use only
# Toggle to disable polling: REDDIT_POLLING_ENABLED=false
REDDIT_POLLING_ENABLED=true
REDDIT_USER_AGENT="GamePulse/1.0 (Educational portfolio project; +https://gamepulse.top)"
REDDIT_RATE_LIMIT_QPM=10

# Epic 4: Bluesky Data Pipeline (OPTIONAL: Social media data ingestion)
# Legal alternative to Reddit using official atproto SDK - compliant for production use
# Get app password from: Bluesky Settings → Privacy and Security → App Passwords
BLUESKY_HANDLE=your-handle.bsky.social
BLUESKY_APP_PASSWORD=xxxx-xxxx-xxxx-xxxx
BLUESKY_RATE_LIMIT_POINTS_PER_HOUR=5000
BLUESKY_HASHTAGS="CollegeBasketball,MarchMadness,NCAAM"

# CI Environment (OPTIONAL: Set by CI/CD systems)
CI=

# OPTIONAL: Error tracking
SENTRY_DSN=

# Docker Images
# For local development: Use local image names (backend, frontend)
# For production (AWS): Use ECR Public URLs from terraform outputs
#
# ECR Public URL Format: public.ecr.aws/REGISTRY_ALIAS/REPOSITORY_NAME
#   - Get REGISTRY_ALIAS from: terraform output ecr_registry_id
#   - Backend repo: gamepulse/backend
#   - Frontend repo: gamepulse/frontend
#
# Example production values:
#   DOCKER_IMAGE_BACKEND=public.ecr.aws/a1b2c3d4/gamepulse/backend
#   DOCKER_IMAGE_FRONTEND=public.ecr.aws/a1b2c3d4/gamepulse/frontend
#   TAG=latest  (or specific git SHA for rollback)
#
# Local development (default):
DOCKER_IMAGE_BACKEND=backend
DOCKER_IMAGE_FRONTEND=frontend
TAG=latest
